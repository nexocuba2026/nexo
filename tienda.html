<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Tienda | neXo</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="css/estilos.css">
</head>
<body>

<header>
<img src="imagenes/logo-nexo.png" alt="neXo Logo" class="logo-header">
<div class="slogan">Conectando soluciones, creando resultados</div>
<nav>
  <a href="index.html">Inicio</a>
  <a href="servicios.html">Servicios</a>
  <a href="tienda.html">Tienda</a>
  <a href="ofertas.html">Ofertas Plus</a>
  <a href="quienes.html">Quiénes Somos</a>
  <a href="contactos.html">Contactos</a>
</nav>
</header>

<section class="products-section">
<h2 class="section-title">Productos</h2>

<div class="product-card">
  <img src="imagenes/producto1.jpg" class="product-img" alt="Producto 1">
  <div class="product-info">
    <h3>Producto 1</h3>
    <p>Material: Acero, Color: Negro, Garantía: 2 años</p>
    <p>Tienda: XYZ Store</p>
    <p>Dirección: Calle 123, Ciudad</p>
    <p>Precio: $25 USD</p>
    <div class="product-buttons">
      <button onclick="agregarAlCarrito({nombre:'Producto 1', precio:25})">Añadir al carrito</button>
    </div>
  </div>
</div>

<div class="product-card">
  <img src="imagenes/producto2.jpg" class="product-img" alt="Producto 2">
  <div class="product-info">
    <h3>Producto 2</h3>
    <p>Material: Madera, Color: Natural, Garantía: 1 año</p>
    <p>Tienda: Casa Home</p>
    <p>Dirección: Av. Central 45, Ciudad</p>
    <p>Precio: $40 USD</p>
    <div class="product-buttons">
      <button onclick="agregarAlCarrito({nombre:'Producto 2', precio:40})">Añadir al carrito</button>
    </div>
  </div>
</div>

<!-- Agrega aquí más productos similares -->

</section>

<!-- Botón flotante del carrito -->
<div id="carrito-flotante">
  <span>Carrito</span>
  <div id="carrito-detalle">
    <p>No hay productos en el carrito.</p>
  </div>
</div>

<script>
let carritoProductos = [];

function agregarAlCarrito(producto) {
    // Ver si ya existe el producto en el carrito
    const index = carritoProductos.findIndex(p => p.nombre === producto.nombre);
    if(index !== -1){
        carritoProductos[index].cantidad += 1;
    } else {
        producto.cantidad = 1;
        carritoProductos.push(producto);
    }
    actualizarCarrito();
}

function actualizarCarrito() {
    const carritoDetalle = document.getElementById("carrito-detalle");
    if(carritoProductos.length === 0){
        carritoDetalle.innerHTML = "<p>No hay productos en el carrito.</p>";
        return;
    }
    let html = '';
    carritoProductos.forEach((p, index) => {
        html += `
        <div class="carrito-item">
            <p>${p.nombre} - $${p.precio} x <span id="cantidad-${index}">${p.cantidad}</span></p>
            <button onclick="sumar(${index})">+</button>
            <button onclick="restar(${index})">-</button>
        </div>
        `;
    });

    html += `
    <h3>Información de envío</h3>
    <input type="text" id="nombre" placeholder="Nombre" oninput="checkFormulario()">
    <input type="text" id="direccion" placeholder="Dirección" oninput="checkFormulario()">
    <input type="text" id="telefono" placeholder="Teléfono" oninput="checkFormulario()">
    <button id="enviar-whatsapp" onclick="enviarWhatsApp()" disabled>Enviar pedido por WhatsApp</button>
    `;

    carritoDetalle.innerHTML = html;
}

function sumar(index){
    carritoProductos[index].cantidad += 1;
    actualizarCarrito();
}

function restar(index){
    if(carritoProductos[index].cantidad > 1){
        carritoProductos[index].cantidad -= 1;
    } else {
        carritoProductos.splice(index,1);
    }
    actualizarCarrito();
}

function checkFormulario(){
    const nombre = document.getElementById("nombre").value.trim();
    const direccion = document.getElementById("direccion").value.trim();
    const telefono = document.getElementById("telefono").value.trim();
    const boton = document.getElementById("enviar-whatsapp");
    if(nombre !== "" && direccion !== "" && telefono !== ""){
        boton.disabled = false;
    } else {
        boton.disabled = true;
    }
}

function enviarWhatsApp(){
    const nombre = document.getElementById("nombre").value.trim();
    const direccion = document.getElementById("direccion").value.trim();
    const telefono = document.getElementById("telefono").value.trim();
    let mensaje = "Pedido de Nexo:%0A";
    carritoProductos.forEach(p => {
        mensaje += `${p.nombre} - Cantidad: ${p.cantidad}%0A`;
    });
    mensaje += `Nombre: ${nombre}%0ADirección: ${direccion}%0ATeléfono: ${telefono}`;
    const numero = "TU_NUMERO_WHATSAPP"; // Cambia por el número de WhatsApp del proveedor
    window.open(`https://wa.me/${numero}?text=${mensaje}`, "_blank");
}
</script>

</body>
</html>
